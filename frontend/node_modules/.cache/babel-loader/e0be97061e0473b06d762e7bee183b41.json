{"ast":null,"code":"var _jsxFileName = \"/Users/steevenazareth/product-management-app/frontend/src/app.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport ProductsList from './components/ProductsList';\nimport ProductManagementPage from './components/ProductManagement';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Assuming you are using Bootstrap\n\nconst App = () => {\n  const [authToken, setAuthToken] = useState(localStorage.getItem('token'));\n\n  // Effect to update authToken when localStorage changes\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setAuthToken(localStorage.getItem('token'));\n    };\n    window.addEventListener('storage', handleStorageChange);\n\n    // Clean up the event listener\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n  const handleLoginSuccess = token => {\n    localStorage.setItem('token', token);\n    setAuthToken(token);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setAuthToken(null);\n  };\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar navbar-expand-lg navbar-light bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"navbar-brand\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Tersano\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, !authToken && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-item nav-link\",\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-item nav-link\",\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Signup\")), authToken && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-item nav-link\",\n    to: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"Product Management\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    className: \"nav-item nav-link btn btn-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Logout\")))), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(ProductsList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      onLoginSuccess: handleLoginSuccess,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/signup\",\n    element: /*#__PURE__*/React.createElement(Signup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 40\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/products\",\n    element: authToken ? /*#__PURE__*/React.createElement(ProductManagementPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(Login, {\n      onLoginSuccess: handleLoginSuccess,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 82\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/React.createElement(ProductsList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n};\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","Login","Signup","ProductsList","ProductManagementPage","App","authToken","setAuthToken","localStorage","getItem","handleStorageChange","window","addEventListener","removeEventListener","handleLoginSuccess","token","setItem","handleLogout","removeItem","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","to","Fragment","onClick","path","element","onLoginSuccess"],"sources":["/Users/steevenazareth/product-management-app/frontend/src/app.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport ProductsList from './components/ProductsList';\nimport ProductManagementPage from './components/ProductManagement';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Assuming you are using Bootstrap\n\nconst App = () => {\n  const [authToken, setAuthToken] = useState(localStorage.getItem('token'));\n\n  // Effect to update authToken when localStorage changes\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setAuthToken(localStorage.getItem('token'));\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n\n    // Clean up the event listener\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n\n  const handleLoginSuccess = (token) => {\n    localStorage.setItem('token', token);\n    setAuthToken(token);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setAuthToken(null);\n  };\n\n  return (\n    <Router>\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <Link className=\"navbar-brand\" to=\"/\">Tersano</Link>\n        <div className=\"navbar-nav\">\n          {!authToken && (\n            <>\n              <Link className=\"nav-item nav-link\" to=\"/login\">Login</Link>\n              <Link className=\"nav-item nav-link\" to=\"/signup\">Signup</Link>\n            </>\n          )}\n          {authToken && (\n            <>\n              <Link className=\"nav-item nav-link\" to=\"/products\">Product Management</Link>\n              <button onClick={handleLogout} className=\"nav-item nav-link btn btn-link\">Logout</button>\n            </>\n          )}\n        </div>\n      </nav>\n      <Routes>\n        <Route path=\"/\" element={<ProductsList />} />\n        <Route path=\"/login\" element={<Login onLoginSuccess={handleLoginSuccess} />} />\n        <Route path=\"/signup\" element={<Signup />} />\n        <Route path=\"/products\" element={authToken ? <ProductManagementPage /> : <Login onLoginSuccess={handleLoginSuccess} />} />\n        <Route path=\"*\" element={<ProductsList />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,QAAQ,kBAAkB;AAC/E,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,qBAAqB,MAAM,gCAAgC;AAClE,OAAO,sCAAsC,CAAC,CAAC;;AAE/C,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAChB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAACc,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;;EAEzE;EACAd,SAAS,CAAC,MAAM;IACd,MAAMe,mBAAmB,GAAGA,CAAA,KAAM;MAChCH,YAAY,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC7C,CAAC;IAEDE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEF,mBAAmB,CAAC;;IAEvD;IACA,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEH,mBAAmB,CAAC;IAC5D,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,kBAAkB,GAAIC,KAAK,IAAK;IACpCP,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAED,KAAK,CAAC;IACpCR,YAAY,CAACQ,KAAK,CAAC;EACrB,CAAC;EAED,MAAME,YAAY,GAAGA,CAAA,KAAM;IACzBT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;IAChCX,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,oBACEd,KAAA,CAAA0B,aAAA,CAACtB,MAAM;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLhC,KAAA,CAAA0B,aAAA;IAAKO,SAAS,EAAC,+CAA+C;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5DhC,KAAA,CAAA0B,aAAA,CAACnB,IAAI;IAAC0B,SAAS,EAAC,cAAc;IAACC,EAAE,EAAC,GAAG;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAa,CAAC,eACpDhC,KAAA,CAAA0B,aAAA;IAAKO,SAAS,EAAC,YAAY;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxB,CAACnB,SAAS,iBACTb,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAAmC,QAAA,qBACEnC,KAAA,CAAA0B,aAAA,CAACnB,IAAI;IAAC0B,SAAS,EAAC,mBAAmB;IAACC,EAAE,EAAC,QAAQ;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAW,CAAC,eAC5DhC,KAAA,CAAA0B,aAAA,CAACnB,IAAI;IAAC0B,SAAS,EAAC,mBAAmB;IAACC,EAAE,EAAC,SAAS;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAY,CAC7D,CACH,EACAnB,SAAS,iBACRb,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAAmC,QAAA,qBACEnC,KAAA,CAAA0B,aAAA,CAACnB,IAAI;IAAC0B,SAAS,EAAC,mBAAmB;IAACC,EAAE,EAAC,WAAW;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAAwB,CAAC,eAC5EhC,KAAA,CAAA0B,aAAA;IAAQU,OAAO,EAAEZ,YAAa;IAACS,SAAS,EAAC,gCAAgC;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CACxF,CAED,CACF,CAAC,eACNhC,KAAA,CAAA0B,aAAA,CAACrB,MAAM;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLhC,KAAA,CAAA0B,aAAA,CAACpB,KAAK;IAAC+B,IAAI,EAAC,GAAG;IAACC,OAAO,eAAEtC,KAAA,CAAA0B,aAAA,CAAChB,YAAY;MAAAiB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7ChC,KAAA,CAAA0B,aAAA,CAACpB,KAAK;IAAC+B,IAAI,EAAC,QAAQ;IAACC,OAAO,eAAEtC,KAAA,CAAA0B,aAAA,CAAClB,KAAK;MAAC+B,cAAc,EAAElB,kBAAmB;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC/EhC,KAAA,CAAA0B,aAAA,CAACpB,KAAK;IAAC+B,IAAI,EAAC,SAAS;IAACC,OAAO,eAAEtC,KAAA,CAAA0B,aAAA,CAACjB,MAAM;MAAAkB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC7ChC,KAAA,CAAA0B,aAAA,CAACpB,KAAK;IAAC+B,IAAI,EAAC,WAAW;IAACC,OAAO,EAAEzB,SAAS,gBAAGb,KAAA,CAAA0B,aAAA,CAACf,qBAAqB;MAAAgB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAAGhC,KAAA,CAAA0B,aAAA,CAAClB,KAAK;MAAC+B,cAAc,EAAElB,kBAAmB;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC1HhC,KAAA,CAAA0B,aAAA,CAACpB,KAAK;IAAC+B,IAAI,EAAC,GAAG;IAACC,OAAO,eAAEtC,KAAA,CAAA0B,aAAA,CAAChB,YAAY;MAAAiB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACtC,CACF,CAAC;AAEb,CAAC;AAED,eAAepB,GAAG"},"metadata":{},"sourceType":"module"}