{"ast":null,"code":"var _jsxFileName = \"/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ProductList from './productsList';\nimport AddProduct from './addProducts';\nimport '../index.css';\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [successMessage, setSuccessMessage] = useState('');\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const {\n        data\n      } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n      setSuccessMessage(''); // Clear success message when fetching products\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n  const handleSelectProduct = productId => {\n    const newSelectedProducts = selectedProducts.includes(productId) ? selectedProducts.filter(id => id !== productId) : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => axios.delete(`http://localhost:4000/api/products/${id}`)));\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n  const handleAddProductSuccess = () => {\n    fetchProducts();\n    setSuccessMessage('Product added successfully!');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Product Management\"), successMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 26\n    }\n  }, successMessage), /*#__PURE__*/React.createElement(ProductList, {\n    products: products,\n    onSelectProduct: handleSelectProduct,\n    selectedProducts: selectedProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDeleteSelected,\n    disabled: selectedProducts.length === 0,\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Delete Selected\")), /*#__PURE__*/React.createElement(AddProduct, {\n    onAddProduct: handleAddProductSuccess,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }));\n};\nexport default ProductManagementPage;","map":{"version":3,"names":["React","useEffect","useState","axios","ProductList","AddProduct","ProductManagementPage","products","setProducts","selectedProducts","setSelectedProducts","successMessage","setSuccessMessage","fetchProducts","data","get","error","console","handleSelectProduct","productId","newSelectedProducts","includes","filter","id","handleDeleteSelected","Promise","all","map","delete","handleAddProductSuccess","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSelectProduct","onClick","disabled","length","onAddProduct"],"sources":["/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ProductList from './productsList';\nimport AddProduct from './addProducts';\nimport '../index.css';\n\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const { data } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n      setSuccessMessage(''); // Clear success message when fetching products\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n\n  const handleSelectProduct = (productId) => {\n    const newSelectedProducts = selectedProducts.includes(productId)\n      ? selectedProducts.filter(id => id !== productId)\n      : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => \n        axios.delete(`http://localhost:4000/api/products/${id}`)\n      ));\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n\n  const handleAddProductSuccess = () => {\n    fetchProducts();\n    setSuccessMessage('Product added successfully!');\n  };\n\n  return (\n    <div className=\"container my-4\">\n      <h1 className=\"mb-4\">Product Management</h1>\n      {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\n      <ProductList \n        products={products}\n        onSelectProduct={handleSelectProduct}\n        selectedProducts={selectedProducts}\n      />\n      <div className=\"my-3\">\n        <button onClick={handleDeleteSelected} disabled={selectedProducts.length === 0} className=\"btn btn-danger\">\n          Delete Selected\n        </button>\n      </div>\n      <AddProduct onAddProduct={handleAddProductSuccess} />\n    </div>\n  );\n};\n\nexport default ProductManagementPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}