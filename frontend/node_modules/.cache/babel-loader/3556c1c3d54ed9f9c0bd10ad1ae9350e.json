{"ast":null,"code":"var _jsxFileName = \"/Users/steevenazareth/product-management-app/frontend/src/components/productsList.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nconst ProductsList = () => {\n  const [products, setProducts] = useState([]);\n  const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n  const token = localStorage.getItem('token');\n  const navigate = useNavigate();\n\n  // Fetch products from the server\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('http://localhost:4000/api/products');\n        setProducts(response.data);\n      } catch (error) {\n        var _error$response;\n        console.error('Failed to fetch products:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || 'Server error');\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  // Navigate to the product management page or show login prompt\n  const handleProductManagementClick = () => {\n    if (!token) {\n      setShowLoginPrompt(true);\n    } else {\n      navigate('/product-management');\n    }\n  };\n\n  // Close the modal\n  const closeModal = () => {\n    setShowLoginPrompt(false);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Tersano Products\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleProductManagementClick,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Product Management\"), showLoginPrompt && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal show\",\n    tabIndex: \"-1\",\n    style: {\n      display: 'block'\n    },\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 33\n    }\n  }, \"Login Required\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    onClick: closeModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 37\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, \"Please \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 43\n    }\n  }, \"login\"), \" to manage products.\"))))), products.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"There is nothing to show right now.\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 mb-3\",\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 37\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, \"$\", product.price), token && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => deleteProduct(product._id),\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  }, \"Delete\")))))));\n};\nexport default ProductsList;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useNavigate","ProductsList","products","setProducts","showLoginPrompt","setShowLoginPrompt","token","localStorage","getItem","navigate","fetchProducts","response","get","data","error","_error$response","console","handleProductManagementClick","closeModal","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","tabIndex","style","display","type","to","length","map","product","key","_id","name","description","price","deleteProduct"],"sources":["/Users/steevenazareth/product-management-app/frontend/src/components/productsList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst ProductsList = () => {\n    const [products, setProducts] = useState([]);\n    const [showLoginPrompt, setShowLoginPrompt] = useState(false);\n    const token = localStorage.getItem('token');\n    const navigate = useNavigate();\n\n    // Fetch products from the server\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const response = await axios.get('http://localhost:4000/api/products');\n                setProducts(response.data);\n            } catch (error) {\n                console.error('Failed to fetch products:', error.response?.data || 'Server error');\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    // Navigate to the product management page or show login prompt\n    const handleProductManagementClick = () => {\n        if (!token) {\n            setShowLoginPrompt(true);\n        } else {\n            navigate('/product-management');\n        }\n    };\n\n    // Close the modal\n    const closeModal = () => {\n        setShowLoginPrompt(false);\n    };\n\n    return (\n        <div className=\"container mt-4\">\n            <h1>Tersano Products</h1>\n            <button onClick={handleProductManagementClick} className=\"btn btn-primary\">\n                Product Management\n            </button>\n            {showLoginPrompt && (\n                <div className=\"modal show\" tabIndex=\"-1\" style={{ display: 'block' }} onClick={closeModal}>\n                    <div className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\">Login Required</h5>\n                                <button type=\"button\" className=\"close\" onClick={closeModal}>\n                                    <span>&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <p>Please <Link to=\"/login\">login</Link> to manage products.</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {products.length === 0 ? (\n                <p className=\"text-center\">There is nothing to show right now.</p>\n            ) : (\n                <div className=\"row\">\n                    {products.map(product => (\n                        <div className=\"col-md-4 mb-3\" key={product._id}>\n                            <div className=\"card h-100\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\">{product.name}</h5>\n                                    <p className=\"card-text\">{product.description}</p>\n                                    <p className=\"card-text\">${product.price}</p>\n                                    {token && (\n                                        <button onClick={() => deleteProduct(product._id)} className=\"btn btn-danger\">\n                                            Delete\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ProductsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}