{"ast":null,"code":"var _jsxFileName = \"/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport AddProduct from './AddProduct'; // Make sure this path is correct\nimport '../index.css';\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const {\n        data\n      } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n  const handleSelectProduct = productId => {\n    const newSelectedProducts = selectedProducts.includes(productId) ? selectedProducts.filter(id => id !== productId) : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => axios.delete(`http://localhost:4000/api/products/${id}`)));\n      setSuccessMessage('Selected products have been successfully deleted.');\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n  const handleAddProductSuccess = newProduct => {\n    setProducts([...products, newProduct]);\n    setSuccessMessage('Product added successfully!');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Product Management\"), successMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 26\n    }\n  }, successMessage), products.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    key: product._id,\n    className: `list-group-item ${selectedProducts.includes(product._id) ? 'list-group-item-primary' : ''}`,\n    onClick: () => handleSelectProduct(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"$\", product.price)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"No products available.\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDeleteSelected,\n    disabled: selectedProducts.length === 0,\n    className: \"btn btn-danger mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Delete Selected\"), /*#__PURE__*/React.createElement(AddProduct, {\n    onAddProduct: handleAddProductSuccess,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }));\n};\nexport default ProductManagementPage;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","AddProduct","ProductManagementPage","products","setProducts","selectedProducts","setSelectedProducts","successMessage","setSuccessMessage","navigate","fetchProducts","data","get","error","console","handleSelectProduct","productId","newSelectedProducts","includes","filter","id","handleDeleteSelected","Promise","all","map","delete","handleAddProductSuccess","newProduct","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","product","key","_id","onClick","name","description","price","disabled","onAddProduct"],"sources":["/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport AddProduct from './AddProduct'; // Make sure this path is correct\nimport '../index.css';\n\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const { data } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n\n  const handleSelectProduct = (productId) => {\n    const newSelectedProducts = selectedProducts.includes(productId)\n      ? selectedProducts.filter(id => id !== productId)\n      : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => \n        axios.delete(`http://localhost:4000/api/products/${id}`)\n      ));\n      setSuccessMessage('Selected products have been successfully deleted.');\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n\n  const handleAddProductSuccess = (newProduct) => {\n    setProducts([...products, newProduct]);\n    setSuccessMessage('Product added successfully!');\n  };\n\n  return (\n    <div className=\"container my-4\">\n      <h1 className=\"mb-4\">Product Management</h1>\n      {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\n      {products.length > 0 ? (\n        <div className=\"list-group\">\n          {products.map(product => (\n            <div key={product._id} className={`list-group-item ${selectedProducts.includes(product._id) ? 'list-group-item-primary' : ''}`} onClick={() => handleSelectProduct(product._id)}>\n              <h5>{product.name}</h5>\n              <p>{product.description}</p>\n              <p>${product.price}</p>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p>No products available.</p>\n      )}\n      <button onClick={handleDeleteSelected} disabled={selectedProducts.length === 0} className=\"btn btn-danger mt-3\">\n        Delete Selected\n      </button>\n      {/* Pass the success handler to AddProduct */}\n      <AddProduct onAddProduct={handleAddProductSuccess} />\n    </div>\n  );\n};\n\nexport default ProductManagementPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}