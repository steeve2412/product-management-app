{"ast":null,"code":"var _jsxFileName = \"/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ProductList from './productsList';\nimport AddProduct from './addProducts';\nimport '../../index.css';\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  const fetchProducts = async () => {\n    try {\n      const {\n        data\n      } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n  const handleSelectProduct = productId => {\n    const newSelectedProducts = selectedProducts.includes(productId) ? selectedProducts.filter(id => id !== productId) : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => axios.delete(`http://localhost:4000/api/products/${id}`)));\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Product Management\"), /*#__PURE__*/React.createElement(ProductList, {\n    products: products,\n    onSelectProduct: handleSelectProduct,\n    selectedProducts: selectedProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDeleteSelected,\n    disabled: selectedProducts.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Delete Selected\"), /*#__PURE__*/React.createElement(AddProduct, {\n    onAddProduct: fetchProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }));\n};\nexport default ProductManagementPage;","map":{"version":3,"names":["React","useEffect","useState","axios","ProductList","AddProduct","ProductManagementPage","products","setProducts","selectedProducts","setSelectedProducts","fetchProducts","data","get","error","console","handleSelectProduct","productId","newSelectedProducts","includes","filter","id","handleDeleteSelected","Promise","all","map","delete","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSelectProduct","onClick","disabled","length","onAddProduct"],"sources":["/Users/steevenazareth/product-management-app/frontend/src/components/productManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ProductList from './productsList';\nimport AddProduct from './addProducts';\nimport '../../index.css';\n\nconst ProductManagementPage = () => {\n  const [products, setProducts] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const { data } = await axios.get('http://localhost:4000/api/products');\n      setProducts(data);\n    } catch (error) {\n      console.error(\"Failed to fetch products\", error);\n    }\n  };\n\n  const handleSelectProduct = (productId) => {\n    const newSelectedProducts = selectedProducts.includes(productId)\n      ? selectedProducts.filter(id => id !== productId)\n      : [...selectedProducts, productId];\n    setSelectedProducts(newSelectedProducts);\n  };\n\n  const handleDeleteSelected = async () => {\n    try {\n      await Promise.all(selectedProducts.map(id => \n        axios.delete(`http://localhost:4000/api/products/${id}`)\n      ));\n      fetchProducts(); // Refresh list after deletion\n      setSelectedProducts([]); // Reset selection\n    } catch (error) {\n      console.error(\"Failed to delete products\", error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Product Management</h1>\n      <ProductList \n        products={products}\n        onSelectProduct={handleSelectProduct}\n        selectedProducts={selectedProducts}\n      />\n      <button onClick={handleDeleteSelected} disabled={selectedProducts.length === 0}>\n        Delete Selected\n      </button>\n      <AddProduct onAddProduct={fetchProducts} />\n    </div>\n  );\n};\n\nexport default ProductManagementPage;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAO,iBAAiB;AAExB,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE5DD,SAAS,CAAC,MAAM;IACdU,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,oCAAoC,CAAC;MACtEL,WAAW,CAACI,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EAED,MAAME,mBAAmB,GAAIC,SAAS,IAAK;IACzC,MAAMC,mBAAmB,GAAGT,gBAAgB,CAACU,QAAQ,CAACF,SAAS,CAAC,GAC5DR,gBAAgB,CAACW,MAAM,CAACC,EAAE,IAAIA,EAAE,KAAKJ,SAAS,CAAC,GAC/C,CAAC,GAAGR,gBAAgB,EAAEQ,SAAS,CAAC;IACpCP,mBAAmB,CAACQ,mBAAmB,CAAC;EAC1C,CAAC;EAED,MAAMI,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACF,MAAMC,OAAO,CAACC,GAAG,CAACf,gBAAgB,CAACgB,GAAG,CAACJ,EAAE,IACvClB,KAAK,CAACuB,MAAM,CAAE,sCAAqCL,EAAG,EAAC,CACzD,CAAC,CAAC;MACFV,aAAa,CAAC,CAAC,CAAC,CAAC;MACjBD,mBAAmB,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD;EACF,CAAC;EAED,oBACEd,KAAA,CAAA2B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEjC,KAAA,CAAA2B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,oBAAsB,CAAC,eAC3BjC,KAAA,CAAA2B,aAAA,CAACvB,WAAW;IACVG,QAAQ,EAAEA,QAAS;IACnB2B,eAAe,EAAElB,mBAAoB;IACrCP,gBAAgB,EAAEA,gBAAiB;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpC,CAAC,eACFjC,KAAA,CAAA2B,aAAA;IAAQQ,OAAO,EAAEb,oBAAqB;IAACc,QAAQ,EAAE3B,gBAAgB,CAAC4B,MAAM,KAAK,CAAE;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,iBAExE,CAAC,eACTjC,KAAA,CAAA2B,aAAA,CAACtB,UAAU;IAACiC,YAAY,EAAE3B,aAAc;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACvC,CAAC;AAEV,CAAC;AAED,eAAe3B,qBAAqB"},"metadata":{},"sourceType":"module"}